\begin{tikzpicture}
\begin{axis}[
    width=12cm,
    height=6cm,
    axis lines=middle,
    xlabel={$t$},
    ylabel={$x(t)$},
    xmin=-7, xmax=7,
    ymin=-1.5, ymax=1.5,
    xtick={-4.7124, -3.1416, -1.5708, 0, 1.5708, 3.1416, 4.7124, 6.2832},
    xticklabels={$-\frac{3\pi}{2}$, $-\pi$, $-\frac{\pi}{2}$, $0$, $\frac{\pi}{2}$, $\pi$, $\frac{3\pi}{2}$, $2\pi$},
    xticklabel style={anchor=north east},
    ytick={-1,0,1},
    samples=1600,
    domain=-7:7,
    legend style={
        font=\scriptsize,
        draw=none,
        fill=none,
        at={(0.02,0.02)},
        anchor=north west,
        legend cell align=left,
        row sep=1pt
    }    
]

% Ideal square wave
\addplot[
    thick,
    gray!60,
]
{ -(-1)^floor((x+pi)/pi) };
\addlegendentry{Square wave}

% Partial sum N=1
\addplot[
    thick,
    dashed,
]
{ (4/pi)*(sin(deg(x))) };
\addlegendentry{$N=1$}

% Partial sum N=3
\addplot[
    thick,
    dotted,
]
{ (4/pi)*(sin(deg(x)) + (1/3)*sin(deg(3*x))) };
\addlegendentry{$N=3$}

% Partial sum N=9
\addplot[
    thick,
    EntcRed
]
{ (4/pi)*(sin(deg(x)) + (1/3)*sin(deg(3*x)) + (1/5)*sin(deg(5*x)) +
         (1/7)*sin(deg(7*x)) + (1/9)*sin(deg(9*x))) };
\addlegendentry{$N=9$}

% Partial sum N = 21
\addplot[
    thick,
    EntcBlue
]
{ (4/pi)*(sin(deg(x)) + (1/3)*sin(deg(3*x)) + (1/5)*sin(deg(5*x)) +
         (1/7)*sin(deg(7*x)) + (1/9)*sin(deg(9*x)) + (1/11)*sin(deg(11*x)) +
         (1/13)*sin(deg(13*x)) + (1/15)*sin(deg(15*x)) + (1/17)*sin(deg(17*x)) +
         (1/19)*sin(deg(19*x)) + (1/21)*sin(deg(21*x))) };
\addlegendentry{$N=21$}



\end{axis}
\end{tikzpicture}
